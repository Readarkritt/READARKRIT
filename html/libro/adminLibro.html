<div class="container-fluid">
    <div class="row">
    	<div class="col-md-12">
			<div class="card card-nav-tabs">
				<div class="card-header" data-background-color="purple">
					<div class="nav-tabs-navigation">
						<div class="nav-tabs-wrapper">
							<span class="nav-tabs-title">LIBROS:</span>
							<ul class="nav nav-tabs navTabsResponsive" data-tabs="tabs" id="menu-adminLibro">
								<li class="active">
									<a href="" data-target="#listadoLibros" data-toggle="tab">
										<i class="fa fa-bars" aria-hidden="true"></i>
										Listar
									<div class="ripple-container"></div></a>
								</li>
								<li class="">
									<a href="" data-target="#anadirLibro" data-toggle="tab">
										<i class="fa fa-plus" aria-hidden="true"></i>
										Añadir
									<div class="ripple-container"></div></a>
								</li>
								<li class="">
									<a href="" data-target="#anadirLibrosExcel" data-toggle="tab">
										<i class="fa fa-file-excel-o" aria-hidden="true"></i>
										Importar
									<div class="ripple-container"></div></a>
								</li>
							</ul>
						</div>
					</div>
				</div>

				<div class="card-content">
					<div class="tab-content">
						<div class="tab-pane active table-responsive" id="listadoLibros">
							<table id="tablaListado" class="table table-striped table-bordered dt-responsive nowrap row-border hover hidden" width="100%" datatable="ng" cellspacing="0">
						        <thead>
						            <tr>
						            	<th class="all">PORTADA</th>
						                <th>TÍTULO</th>
						                <th>TÍTULO ORIGINAL</th>
						                <th>AUTOR</th>
						                <th>AÑO</th>
						                <th>AÑADIDO POR</th>
						                <th>TITULACIÓN</th>
						                <th>PAIS</th>
						                <th>CATEGORÍA</th>
						                <th>POSICIÓN RANKING</th>
						                <th>MEDIA USUARIOS</th>
						                <th>NIVEL ESPECIALIZACIÓN</th>
						                <th class="all">ACCIONES</th>
						            </tr>
						        </thead>
						        <tbody>
						        	<tr ng-repeat="libro in librosAnadidos">	
						        		<td><img src="{{libro.portada}}" alt="portada" height="40" width="40"></td>					        		
						        		<td>{{libro.titulo}}</td>
						        		<td>{{libro.titulo_original}}</td>
						        		<td>{{libro.autor}}</td>
						        		<td>{{libro.ano}}</td>
						        		<td>{{libro.anadido_por}}</td>
						        		<td>{{libro.titulacion}}</td>
						        		<td>{{libro.pais}}</td>
						        		<td>{{libro.categoria}}</td>
						        		<td>{{libro.posicion_ranking}}</td>
						        		<td>{{libro.media_num_usuarios}}</td>
						        		<td>{{libro.nivel_especializacion}}</td>
						        		<td>
						        			<a href="" data-toggle="tab" data-target="#modificarLibro">
							        			<button type="button" rel="tooltip" title="Modificar" class="btn btn-primary btn-simple acciones-registro" ng-click="cargarModificarLibro(libro.id_libro_anadido, $index)">
													<i class="fa fa-pencil" aria-hidden="true"></i>
												</button>
											</a>
											<button type="button" rel="tooltip" title="Eliminar" class="btn btn-danger btn-simple acciones-registro" ng-click="eliminarLibroAnadido(libro.id_libro_anadido, $index)" ng-if="libro.f_baja == null">
												<i class="fa fa-trash" aria-hidden="true"></i>
											</button>
											<button type="button" rel="tooltip" title="Reactivar" class="btn btn-primary btn-simple acciones-registro" ng-click="reactivarLibroAnadido(libro.id_libro_anadido, $index)" ng-if="libro.f_baja != null">
												<i class="fa fa-plus" aria-hidden="true"></i>
											</button>
						        		</td>
						        	</tr>
						        </tbody>
						    </table>
						</div>
						<div class="tab-pane" id="anadirLibro">
							<div class="row">
						        <div class="col-md-12">
						        	<form>
						        		<div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulo</label>
													<input type="text" class="form-control" id="titulo" name="titulo" ng-model="libro.titulo">
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulo original</label>
													<input type="text" class="form-control" id="tituloOriginal" name="tituloOriginal" ng-model="libro.tituloOriginal">
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">Autor</label>
													<input type="text" class="form-control" id="autor" name="autor" ng-model="libro.autor">
												</div>
									        </div>
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">Año</label>
													<input type="text" class="form-control" id="ano" name="ano" pattern="\d{1,4}" ng-model="libro.ano">
												</div>
									        </div>
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">País</label>
													<select id="idPais" name="idPais" ng-model="libroAnadido.idPais">
														<option ng-selected="libroAnadido.idPais == pais.id_pais" ng-repeat="pais in paises" ng-value="pais.id_pais">{{pais.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>									        
									    </div>
									    <div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulación</label>
													<select id="idTitulacion" name="idTitulacion" ng-model="libro.idTitulacion">
														<option ng-selected="libro.idTitulacion == titulacion.id_titulacion" ng-repeat="titulacion in titulaciones" ng-value="titulacion.id_titulacion">{{titulacion.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Categoría</label>
													<select id="idCategoria" name="idCategoria" ng-model="libroAnadido.idCategoria">
														<option ng-selected="libroAnadido.idCategoria == categoria.id_categoria" ng-repeat="categoria in categorias" ng-value="categoria.id_categoria">{{categoria.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Nivel de Especialización</label>
													<select id="nivelEspecializacion" name="nivelEspecializacion" ng-model="libroAnadido.nivelEspecializacion">
														<option ng-selected="libroAnadido.nivelEspecializacion == nivel.id_nivel" ng-repeat="nivel in nivelEspecializacion" ng-value="nivel.id_nivel">{{nivel.nombre}}</option>
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Posición en el Ranking</label>
													<input type="text" class="form-control" id="posicionRanking" name="posicionRanking" pattern="\d{1,3}" ng-model="libroAnadido.posicionRanking">
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-12">
												<div class="form-group label-floating">
													<label class="control-label">Añadir portada</label>
												</div>
													<input class="form-control" id="inputPortada" name="inputPortada" type="file" accept="img/*" />
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-12">
							                    <div class="alert alert-danger hidden" id="errores">
							                        <button type="button" aria-hidden="true" class="close" onclick="cerrarAlerta(this)">×</button>
							                        <span>
							                        	<!-- Errores -->
							                        </span>
							                    </div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-12">
							                    <div class="alert alert-success hidden" id="exito">
							                        <button type="button" aria-hidden="true" class="close" onclick="cerrarAlerta(this)">×</button>
							                        <span>
							                        </span>
							                    </div>
									        </div>
									    </div>									    
											<button id="botonEnviar" type="submit" class="btn btn-info pull-right" ng-click="altaLibro()">Añadir libro</button>
									    <div class="clearfix"></div>
				                    </form>
						        </div>
						    </div>
						</div>
						<div class="tab-pane" id="anadirLibrosExcel">
							<div class="row">
						        <div class="col-md-12">
				                    <div class="alert" id="infoAnadirLibrosExcel">
		                                <button type="button" aria-hidden="true" class="close" style="color:red;" onclick="cerrarAlerta(this)">×</button>
		                                <span>
		                                	OBSERVACIONES: </br>
		                                	<ul>
		                                		<li>Todos los campos deben de estar completos.</li>
		                                		<li>No alterar el orden de las columnas que siguen en la plantilla.</li>
		                                		<li>El nombre de la imagen debe ser el mismo que el de la columna Portada de la plantilla.</li>
		                                		<li>Si ha habido algún libro problemático al hacer la subida, por favor, vuelva a subir el fichero pero sin los libros que se han insertado correctamente.</li> 
		                                	</ul>
		                                	PASOS A SEGUIR PARA SUBIR LIBROS A PARTIR DE UN FICHERO EXCEL:</br>
		                                	<ol type="1">
		                                		<li>Descargar el modelo de <a href="../excel/plantilla.xlsx" style="color: blue;">plantilla</a>.</li>
		                                		<li>Añadir los libros que quieras.</li>
		                                		<li>Añadir tantas portadas como libros tengas en el excel.</li>
		                   						<li>Pulsar Procesar Libros.</li>
		                                	</ol>
		                                	CONSULTA ALGUNOS VALORES PARA COMPLETAR TU EXCEL:</br>
		                                	<div class="row">
		                                		<form>
				                                	<div class="col-md-3">
				                                		<div class="form-group label-floating">
															<label class="control-label">Titulación</label>
					                                		<select>
					                                			<option ng-repeat="titulacion in titulaciones">{{titulacion.nombre}}</option>
					                                		</select>
					                                	</div>
				                                	</div>
				                                	<div class="col-md-3">
				                                		<div class="form-group label-floating">
															<label class="control-label">País</label>
					                                		<select>
					                                			<option ng-repeat="pais in paises">{{pais.nombre}}</option>
					                                		</select>
					                                	</div>
				                                	</div>
				                                	<div class="col-md-3">
				                                		<div class="form-group label-floating">
															<label class="control-label">Categoría de un libro</label>
					                                		<select>
					                                			<option ng-repeat="categoria in categorias">{{categoria.nombre}}</option>
					                                		</select>
					                                	</div>
				                                	</div>
				                                	<div class="col-md-3">
				                                		<div class="form-group label-floating">
															<label class="control-label">Nivel de especialización</label>
					                                		<select>
					                                			<option>Básico</option>
					                                			<option>Especialidad</option>
					                                		</select>
					                                	</div>
				                                	</div>
				                                </form>
			                                </div>
		                                </span>
				                    </div>
						        </div>
						    </div>
							<div class="row">
	                            <div class="col-md-5">
	                            	<div class="form-group label-floating">
										<label class="control-label">Fichero Excel con los libros</label>
									</div>
									<input class="form-control" id="inputExcel" name="inputExcel" type="file" accept="application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" />
	                            </div>
	                            <div class="col-md-5">
	                            	<div class="form-group label-floating">
										<label class="control-label">Fichero comprimido con las portadas</label>
									</div>
	                            	<input class="form-control" id="inputComprimido" name="inputComprimido" type="file" accept="application/zip" />
	                            </div>
	                            <div class="col-md-2">
				                    <button type="button" class="btn btn-success pull-right" ng-click="procesarLibrosExcel()">PROCESAR LIBROS</button>
			                	</div>
				            </div>
				            <div class="row">
						        <div class="col-md-12">
				                    <div class="alert alert-danger hidden" id="erroresProcesamientoLibros">
		                                <button type="button" aria-hidden="true" class="close" onclick="cerrarAlerta(this)">×</button>
		                                <span>
		                                	<!-- Errores -->
		                                </span>
				                    </div>
						        </div>
						    </div>
				        </div>  
				        <div class="tab-pane" id="modificarLibro">
				        	<div class="row">
						        <div class="col-md-12">
						        	<form>
						        		<div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulo</label>
													<input type="text" class="form-control" id="modTitulo" name="modTitulo" ng-model="modLibro.titulo">
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulo original</label>
													<input type="text" class="form-control" id="modTituloOriginal" name="modTituloOriginal" ng-model="modLibro.tituloOriginal">
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">Autor</label>
													<input type="text" class="form-control" id="modAutor" name="modAutor" ng-model="modLibro.autor">
												</div>
									        </div>
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">Año</label>
													<input type="text" class="form-control" id="modAno" name="modAno" pattern="\d{1,4}" ng-model="modLibro.ano">
												</div>
									        </div>
									        <div class="col-md-4">
												<div class="form-group label-floating">
													<label class="control-label">País</label>
													<select id="modIdPais" name="modIdPais" ng-model="modLibroAnadido.idPais">
														<option ng-selected="modLibroAnadido.idPais == pais.id_pais" ng-repeat="pais in paises" ng-value="pais.id_pais">{{pais.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>									        
									    </div>
									    <div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Titulación</label>
													<select id="modIdTitulacion" name="modIdTitulacion" ng-model="modLibro.idTitulacion">
														<option ng-selected="modLibro.idTitulacion == titulacion.id_titulacion" ng-repeat="titulacion in titulaciones" ng-value="titulacion.id_titulacion">{{titulacion.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Categoría</label>
													<select id="modIdCategoria" name="modIdCategoria" ng-model="modLibroAnadido.idCategoria">
														<option ng-selected="modLibroAnadido.idCategoria == categoria.id_categoria" ng-repeat="categoria in categorias" ng-value="categoria.id_categoria">{{categoria.nombre}}</option> 
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Nivel de Especialización</label>
													<select id="modNivelEspecializacion" name="modNivelEspecializacion" ng-model="modLibroAnadido.nivelEspecializacion">
														<option ng-selected="modLibroAnadido.nivelEspecializacion == nivel.id_nivel" ng-repeat="nivel in nivelEspecializacion" ng-value="nivel.id_nivel">{{nivel.nombre}}</option>
													  	<!-- Se cargarán los distintos valores -->
													</select> 
												</div>
									        </div>
									        <div class="col-md-6">
												<div class="form-group label-floating">
													<label class="control-label">Posición en el Ranking</label>
													<input type="text" class="form-control" id="modPosicionRanking" name="modPosicionRanking" pattern="\d{1,3}" ng-model="modLibroAnadido.posicionRanking">
												</div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-4">
									        	<div class="portadaContainer">
										        	<img src="" alt="portada" id="modPortadaImg"/>
										        </div>
									        </div>
									        <div class="col-md-8">
												<div class="form-group label-floating">
													<label class="control-label">Modificar portada</label>
												</div>
													<input class="form-control" id="modInputPortada" name="modInputPortada" type="file" accept="img/*" />
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-12">
							                    <div class="alert alert-danger hidden" id="erroresModificar">
							                        <button type="button" aria-hidden="true" class="close" onclick="cerrarAlerta(this)">×</button>
							                        <span>
							                        	<!-- Errores -->
							                        </span>
							                    </div>
									        </div>
									    </div>
									    <div class="row">
									        <div class="col-md-12">
							                    <div class="alert alert-success hidden" id="exitoModificar">
							                        <button type="button" aria-hidden="true" class="close" onclick="cerrarAlerta(this)">×</button>
							                        <span>
							                        </span>
							                    </div>
									        </div>
									    </div>									    
											<button id="botonEnviar" type="submit" class="btn btn-info pull-right" ng-click="modificarLibro()">Modificar libro</button>
									    <div class="clearfix"></div>
				                    </form>
						        </div>
						    </div>
				        </div>      
					</div>
				</div>
			</div>
        </div>
    </div>
</div>